# MolLangData

[![arXiv](https://img.shields.io/badge/arXiv-2602.02320-b31b1b.svg)](https://arxiv.org/abs/2602.02320)
[![Hugging Face](https://img.shields.io/badge/ðŸ¤—%20Datasets-ChemFM%2FMolLangData-yellow)](https://huggingface.co/datasets/ChemFM/MolLangData)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

**MolLangData** provides large-scale paired data of molecular structures and language descriptions generated by a rule-regularized method.

> **âš ï¸ This repository is under construction.**  
> The dataset is already available on [Hugging Face](https://huggingface.co/datasets/ChemFM/MolLangData). We are actively preparing code and documentation for the full data-collection pipeline. See [TODO](#todo--roadmap) below.

---

## Dataset

- **Hugging Face:** [ChemFM/MolLangData](https://huggingface.co/datasets/ChemFM/MolLangData) â€” download and use the dataset (Parquet, `datasets` library).
- **Related benchmark:** [MolLangBench](https://github.com/TheLuoFengLab/MolLangBench) â€” human-curated benchmark for molecular structure recognition, editing, and generation. The generation task is similar to the structural description in this work but can be regarded as a standard evaluation, since it is human-curated and rigorously validated.

---

## OPSIN (IUPAC â†’ XML / SMILES)

We use a customized [OPSIN](https://github.com/feiyang-cai/opsin_mollangdata) fork that adds **complete XML structure metadata** for building prompts:

- **Fork:** [feiyang-cai/opsin_mollangdata](https://github.com/feiyang-cai/opsin_mollangdata)
- The code there is for reference; we provide a **compiled JAR** for easy use in the simple demo (see below).
- **OPSIN README** and usage instructions will be updated later (see [TODO](#todo--roadmap)).

---

## Demo (IUPAC â†’ prompt text with XML)

A standalone demo (no LLM calls): given an **IUPAC name**, it runs the bundled OPSIN jar to obtain **XML** and prints the **prompt text** used to generate structure descriptions.

**Contents**

- `demo.py` â€” main demo script
- `opsin-core-*-jar-with-dependencies.jar` â€” OPSIN jar used by the demo
- `prompts/smiles_iupac_metadata_v13/` â€” prompt template and semantic sections (default, bridged/fused/spiro ring semantics)

**Requirements**

- **Python**: 3.8+
- **Java**: a working `java` runtime on PATH (JRE/JDK)
- No extra pip packages (stdlib only)

**Run** (from repo root):

```bash
python3 demo.py "3,4-dihydro-2H-1,5-benzodioxepin-7-yl-(2-fluorophenyl)methanone"
```

Optional (use a different jar):

```bash
python3 demo.py "3,4-dihydro-2H-1,5-benzodioxepin-7-yl-(2-fluorophenyl)methanone" --opsin-jar /path/to/opsin.jar
```

**Output**

The script prints the IUPAC name, SMILES (from OPSIN), and the filled prompt from `prompts/smiles_iupac_metadata_v13/default.md` (the prompt used for generating the structure descriptions).

---

## TODO / Roadmap

- [ ] **Full pipeline to collect the data**
  - [ ] **Simple generation code** â€” minimal script to go from IUPAC (or SMILES) + metadata to one description (single LLM call).
  - [ ] **Routing example** â€” example of difficulty-based routing (easy / medium / hard) and model/reasoning settings.
  - [ ] **Whole pipeline** â€” batch workflow: prepare prompts (e.g. from a molecule list), call batch API to generate descriptions, optional validation and export for the HF dataset.
- [ ] **OPSIN** â€” README and usage instructions are maintained in [feiyang-cai/opsin_mollangdata](https://github.com/feiyang-cai/opsin_mollangdata); this repo will link to it and document how the JAR is used in our pipeline.

---

## Citation

If you use MolLangData in your research, please cite:

```bibtex
@article{MolLangData,
  title={A Large-Scale Dataset for Molecular Structure-Language Description via a Rule-Regularized Method},
  author={Cai, Feiyang and He, Guijuan and Hu, Yi and Wang, Jingjing and Luo, Joshua and Zhu, Tianyu and Pilla, Srikanth and Li, Gang and Liu, Ling and Luo, Feng},
  year={2026},
  journal={arXiv preprint arXiv:2602.02320},
}
```

---

## License

This project is licensed under the [MIT License](LICENSE).

---

## Contact

- **Maintainer:** Feiyang Cai ([feiyang@clemson.edu](mailto:feiyang@clemson.edu))
